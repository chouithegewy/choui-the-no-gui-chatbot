use crate::config::Config;
use tui_input::Input;

#[derive(Debug)]
pub enum AppEvent {
    ChatMessage { user: String, text: String },
    UserJoined(String),
    UserLeft(String),
    Error(String),
    Info(String),
    EmoteImage(String, image::DynamicImage),
}

pub const EMOJIS: &[&str] = &[
    "HeyGuys",
    "Kappa",
    "LUL",
    "PogChamp",
    "VoHiYo",
    "NotLikeThis",
    "<3",
    "WutFace",
    "ResidentSleeper",
    "Kreygasm",
    "SeemsGood",
    "TwitchHypeTrain",
    "KittyHype",
    "PokScizor",
    "PokEmpoleon",
    "PokDecidueye",
    "PokDarkrai",
    "PokBlastoise",
    "FortLlama",
    "FortHype",
    "FortBush",
    "FortOne",
    "PokShadowmew",
    "PokSceptile",
    "PokGarchomp",
    "PokChandelure",
    "PokBraixen",
    "PokAegislash",
    "PokWeavile",
    "PokSuicune",
    "PokPikachu",
    "PokMewtwo",
    "PokMaskedpika",
    "PokMachamp",
    "PokLucario",
    "PokCroagunk",
    "PokGengar",
    "PokGardevoir",
    "PokCharizard",
    "PokBlaziken",
    "PartyPopper",
    "MindManners",
    "BagOfMemes",
    "PrimeRlyTho",
    "PrimeUWot",
    "PrimeYouDontSay",
    "MiniK",
    "KappaHD",
    "ScaredyCat",
    "TableHere",
    "FlipThis",
    "SirUwU",
    "SirPrise",
    "SirSad",
    "SirMad",
    "SirSword",
    "SirShield",
    "Yagoo",
    "DeafeSports",
    "Chimera7",
    "SipTime",
    "EleGiggle",
    "FeverFighter",
    "WeDidThat",
    "PewPewPew",
    "JinxLUL",
    "FeelsVi",
    "AmbessaLove",
    "EkkoChest",
    "CaitThinking",
    "Cinheimer",
    "BratChat",
    "BigSad",
    "GRASSLORD",
    "TWITH",
    "SUBtember",
    "AnotherRecord",
    "GoatEmotey",
    "GoldPLZ",
    "TwitchConHYPE",
    "PopNemo",
    "DinoDance",
    "NewRecord",
    "SUBprise",
    "ImTyping",
    "Shush",
    "MyAvatar",
    "PizzaTime",
    "LaundryBasket",
    "ModLove",
    "Jebasted",
    "TransgenderPride",
    "PansexualPride",
    "NonbinaryPride",
    "LesbianPride",
    "IntersexPride",
    "GenderFluidPride",
    "GayPride",
    "BisexualPride",
    "AsexualPride",
    "GlitchNRG",
    "GlitchLit",
    "StinkyGlitch",
    "GlitchCat",
    "FootGoal",
    "FootYellow",
    "FootBall",
    "BlackLivesMatter",
    "ExtraLife",
    "VirtualHug",
    "BOP",
    "SingsNote",
    "SingsMic",
    "TwitchSings",
    "SoonerLater",
    "HolidayTree",
    "HolidaySanta",
    "HolidayPresent",
    "HolidayLog",
    "HolidayCookie",
    "PixelBob",
    "FBPenalty",
    "FBChallenge",
    "FBCatch",
    "FBBlock",
    "FBSpiral",
    "FBPass",
    "FBRun",
    "MaxLOL",
    "TwitchRPG",
    "PinkMercy",
    "MercyWing2",
    "MercyWing1",
    "PartyHat",
    "EarthDay",
    "TombRaid",
    "PopCorn",
    "FBtouchdown",
    "TPFufun",
    "TwitchVotes",
    "DarkMode",
    "HSWP",
    "HSCheers",
    "PowerUpL",
    "PowerUpR",
    "EntropyWins",
    "TPcrunchyroll",
    "TwitchUnity",
    "Squid4",
    "Squid3",
    "Squid2",
    "Squid1",
    "CrreamAwk",
    "CarlSmile",
    "TwitchLit",
    "TehePelo",
    "TearGlove",
    "SabaPing",
    "PunOko",
    "KonCha",
    "Kappu",
    "InuyoFace",
    "BigPhish",
    "BegWan",
    "ThankEgg",
    "MorphinTime",
    "TheIlluminati",
    "TBAngel",
    "MVGame",
    "NinjaGrumpy",
    "PartyTime",
    "RlyTho",
    "UWot",
    "YouDontSay",
    "KAPOW",
    "ItsBoshyTime",
    "CoolStoryBob",
    "TriHard",
    "SuperVinlin",
    "FreakinStinkin",
    "Poooound",
    "CurseLit",
    "BatChest",
    "BrainSlug",
    "PrimeMe",
    "StrawBeary",
    "RaccAttack",
    "UncleNox",
    "WTRuck",
    "TooSpicy",
    "Jebaited",
    "DogFace",
    "BlargNaut",
    "TakeNRG",
    "GivePLZ",
    "imGlitch",
    "pastaThat",
    "copyThis",
    "UnSane",
    "DatSheffy",
    "TheTarFu",
    "PicoMause",
    "TinyFace",
    "DxCat",
    "RuleFive",
    "VoteNay",
    "VoteYea",
    "PJSugar",
    "DoritosChip",
    "OpieOP",
    "FutureMan",
    "ChefFrank",
    "StinkyCheese",
    "NomNom",
    "SmoocherZ",
    "cmonBruh",
    "KappaWealth",
    "MikeHogu",
    "KomodoHype",
    "SeriousSloth",
    "OSFrog",
    "OhMyDog",
    "KappaClaus",
    "KappaRoss",
    "MingLee",
    "twitchRaid",
    "bleedPurple",
    "duDudu",
    "riPepperonis",
    "DendiFace",
    "CoolCat",
    "KappaPride",
    "ShadyLulu",
    "ArgieB8",
    "CorgiDerp",
    "PraiseIt",
    "TTours",
    "mcaT",
    "NotATK",
    "Mau5",
    "PRChase",
    "BuddhaBar",
    "PermaSmug",
    "panicBasket",
    "BabyRage",
    "HassaanChop",
    "TheThing",
    "RitzMitz",
    "YouWHY",
    "PipeHype",
    "BrokeBack",
    "ANELE",
    "PanicVis",
    "GrammarKing",
    "PeoplesChamp",
    "SoBayed",
    "BigBrother",
    "Keepo",
    "Kippa",
    "RalpherZ",
    "TF2John",
    "ThunBeast",
    "WholeWheat",
    "DAESuppy",
    "FailFish",
    "HotPokket",
    "4Head",
    "FUNgineer",
    "PMSTwin",
    "ShazBotstix",
    "AsianGlow",
    "DBstyle",
    "BloodTrail",
    "OneHand",
    "FrankerZ",
    "SMOrc",
    "ArsonNoSexy",
    "PunchTrees",
    "SSSsss",
    "KevinTurtle",
    "PJSalt",
    "SwiftRage",
    "DansGame",
    "GingerPower",
    "BCWarrior",
    "MrDestructoid",
    "JonCarnage",
    "RedCoat",
    "TheRinger",
    "StoneLightning",
    "OptimizePrime",
    "JKanStyle",
    "R)",
    ";P",
    ":P",
    ";)",
    ":/",
    ":O",
    "B)",
    "O_o",
    ":|",
    ">(",
    ":D",
    ":(",
    ":)",
];

pub struct App {
    pub messages: Vec<String>,
    pub input: Input,
    pub exit: bool,
    pub config: Config,
    // Add image protocol
    pub picker: Option<ratatui_image::picker::Picker>,
    pub emote_images: Vec<(
        String,
        image::DynamicImage,
        Box<dyn ratatui_image::protocol::Protocol>,
    )>,
    pub emote_scroll: usize,
    pub emote_area: ratatui::layout::Rect, // Store the actual rendered area
    pub protocol_name: String,
}

impl App {
    pub fn new(config: Config) -> Self {
        Self {
            messages: Vec::new(),
            input: Input::default(),
            exit: false,
            config,
            picker: None,
            emote_images: Vec::new(),
            emote_scroll: 0,
            emote_area: ratatui::layout::Rect::default(),
            protocol_name: "Unknown".to_string(),
        }
    }
}
